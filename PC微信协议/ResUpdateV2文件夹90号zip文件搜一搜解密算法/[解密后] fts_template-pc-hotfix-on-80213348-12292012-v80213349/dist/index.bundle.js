"use strict";(self.webpackChunkweixin_search=self.webpackChunkweixin_search||[]).push([["index"],{419590:function(e,n,t){t.r(n);var o=t(148954),r=t(637748),i=t(551900),s=t(272666),a=(0,i.Z)(r.Z,o.s,o.x,!1,null,null,null);"function"==typeof s.Z&&(0,s.Z)(a),n.default=a.exports},499417:function(e,n,t){t.d(n,{Z:function(){return o}});function o(e){e.options.__wxs_id="e4b4c248"}},272666:function(e,n,t){var o=t(499417);n.Z=o.Z},637748:function(e,n,t){var o=t(181813);n.Z=o.Z},148954:function(e,n,t){t.d(n,{s:function(){return o},x:function(){return r}});var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"index__box",style:"padding: "+e.realNativeHeight+"px "+e.realNativeMargin+"px 0; --NATIVE-MARGIN: "+e.realNativeMargin+"px",attrs:{"data-p-0bfpe":"","data-fcn-index":"","data-fr-1c1d12108":""}},[t("div",{staticClass:"index__box-wrap"},[t("exposure-block",{ref:"indexExposureBlock",attrs:{attr:"data-index-report-id","data-fc-143d68035":""},on:{expose:e.M_exposeReportFor26897}},[t("transition",{attrs:{name:"allOperateItems","data-fc-143d68036":""}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showAllOperateItem||e.showAskIndexEntry,expression:"showAllOperateItem || showAskIndexEntry"}],staticClass:"index-box-list",style:e.boxListStyle},[t("vert-entries",{staticClass:"fixed-box",attrs:{items:e.vertEntries,"data-fc-143d68037":""},on:{tap:e.onTap}}),e.subscriptionDiscoverInfo?t("subscription-entry",{staticClass:"fixed-box",attrs:{"show-ask-index-entry":e.showAskIndexEntry,"subscription-discover-info":e.subscriptionDiscoverInfo,"data-fc-143d68038":""}}):e._e(),e.showAskIndexEntry?t("ask-index-entry",{staticClass:"fixed-box",attrs:{"answer-recommend":e.answerRecommend,"show-recommend-list":e.showRecommendList,"real-native-height":e.realNativeHeight,"data-fc-143d68039":""},on:{"show:recommend:list":e.onShowRecommendList}}):t("div",{staticClass:"fixed-box"},e._l(e.ret,function(n,o){return t("index-comp",e._b({key:n.realType,attrs:{"type-pos":o+(e.subscriptionDiscoverInfo?2:1),"data-fc-143d6803a":""},on:{tap:e.onTap}},"index-comp",n,!1))}),1),e.bottomData?t("div",{staticClass:"stretch fixed-box"},[t("bottom",{attrs:{data:e.bottomData,"data-fc-143d6803b":""},on:{"tap:setting":e.onTapSetting}})],1):e._e()],1)])],1)],1)])},r=[]},181813:function(e,n,t){var o=t(798509);t(783466);var r=t(959018),i=t(448188),s=t(984928),a=t(822694),c=t(349854),d=t(619269),l=t(253008),u=t(774375),m=t(683732),_=t(178982);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++)o[t]=e[t];return o}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,o,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);s=!0);}catch(e){a=!0,o=e}finally{try{!s&&null!=r.return&&r.return()}finally{if(a)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.Z={name:"Index",components:{AskIndexEntry:_.c,exposureBlock:c.Z},mixins:[a.Z,d.Z],data:function(){return{answerRecommend:{},showAskIndexEntry:!1,showRecommendList:!1,showIndexComp:!1,subscriptionDiscoverInfo:null}},computed:{boxListStyle:function(){return{minHeight:"calc(100vh - 32px - 24px - ".concat(this.realNativeHeight,"px - var(--SAFE-BOTTOM))")}},settingData:function(){var e=(this.bottomData||{}).items;return(void 0===e?[]:e)[0]},entryType:function(){var e,n,t;return null===(t=this.$store.state.index)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(e=n.zhugeInfo)||void 0===e?void 0:e.entryType}},created:function(){var e=this;console.warn("getAnswerRecommend begin: isFromLiteIndex=",o.xB.isFromLiteIndex);var n=(0,m.rw)({effectiveExposeAttrs:[{ratio:.5,time:1e3,attrs:["data-expose-doc"]},{ratio:.5,time:3e3,attrs:["data-expose-doc"]}]}),t=n.analysisExpose,i=n.resetExpose;this.answerRecommend=(0,u.Wv)({onBefore:function(n){var t,s;console.error("answerRecommend req: ",n.isCached,Date.now()),e.showRecommendList=!1,i(),o.yG.reportEventTrack({requestId:null==n?void 0:null===(t=n.req)||void 0===t?void 0:t.request_id,actionType:213,query:"get_recommend_list:isCached:".concat(n.isCached)}),o.hi.log({msg:"[index get_recommend_list request] [isCached ".concat(n.isCached,"] ").concat(JSON.stringify(n.req)),level:"info"}),!n.isCached&&((0,r.DT)(o.AX.ask.answerRecommendSum,{rate:.1}),e.hasRequestRecommend&&((0,r.DT)(o.AX.ask.answerRecommendRepeat,{rate:.1}),o.yG.reportJsCore({stack:"get_recommend_list repeat request: ".concat(null==n?void 0:null===(s=n.req)||void 0===s?void 0:s.request_id)})),e.hasRequestRecommend=!0)},onGetCachedData:function(n){var t,o,r;e.showAskIndexEntry=!!(null==n?void 0:null===(r=n.resp)||void 0===r?void 0:null===(o=r.json)||void 0===o?void 0:null===(t=o.answer_list)||void 0===t?void 0:t.length)},onSuccess:function(n){console.error("answerRecommend succ: ",n.isCached,Date.now()),!e.hasCachedRecommendFlag&&n.isCached&&(e.hasCachedRecommendFlag=!0,e.hasRefreshRecommendFlag&&e.getAnswerRecommend(!0));var i,s=!!(null===(i=e.answerRecommend.items)||void 0===i?void 0:i.length);e.showAskIndexEntry=s,e.showRecommendList=s,t(),!n.isCached&&(0,r.DT)(o.AX.ask.answerRecommendSuc,{rate:.1}),e.$nextTick(function(){if(s){var e;o.yG.reportEventTrack({requestId:null==n?void 0:null===(e=n.req)||void 0===e?void 0:e.request_id,actionType:219,query:"get_recommend_list:isCached:".concat(n.isCached)})}}),o.hi.log({msg:"[index get_recommend_list success] [isCached ".concat(n.isCached,"] ").concat(JSON.stringify(n.resp)),level:"info"})},onError:function(n){console.error("answerRecommend error: ",n.isCached,Date.now()),o.hi.log({msg:"[index get_recommend_list error] [isCached ".concat(n.isCached,"] ").concat(JSON.stringify(n.resp)),level:"info"}),e.showAskIndexEntry=!1,e.showRecommendList=!1,!n.isCached&&(e.$nextTick(function(){e.showIndexComp=!0}),(0,r.DT)(o.AX.ask.answerRecommendFail,{rate:.1}))},onComplete:function(n){var t,r,i;(null===(t=e.answerRecommend.items)||void 0===t?void 0:t.length)&&o.yG.reportEventTrack({requestId:null==n?void 0:null===(r=n.req)||void 0===r?void 0:r.request_id,actionType:218,query:"get_recommend_list:isCached:".concat(n.isCached)}),1===e.entryType&&!e.hasReported220&&(o.yG.reportEventTrack({requestId:null==n?void 0:null===(i=n.req)||void 0===i?void 0:i.request_id,actionType:220,query:"get_recommend_list:isCached:".concat(n.isCached)}),e.hasReported220=!0)}}),this.getAnswerRecommend()},methods:{getIconUrl:function(e){if(39===e.type&&1===this.entryType)return e.iconUrl||"https://res.wx.qq.com/t/components/icons/base/fire_regular.svg"},onShowRecommendList:function(){this.showIndexComp=!0},getAnswerRecommend:function(e){var n,t,r;if((null===(n=this.answerRecommend)||void 0===n||!n.loading)&&(null===(t=this.answerRecommend)||void 0===t||!t.cachedLoading))return this.answerRecommend.load({ignore_cache:e,request_id:(0,l.g9)(),reddot_bypass_info:(null===(r=o.xB.reddotParams)||void 0===r?void 0:r.__byPassInfo__)||void 0,page_size:20,request_type:1})},_handleExpose:function(e){var n,t,r=this,s=[],a=[];if(e.forEach(function(e){n=(t=p((e||"").split("##"),2))[0],t[1],n&&s.push(n);var t,o=p(e.match(/^\d+(?=#)/)||[],1)[0];if(o){var i=r.$refs["IndexComp_".concat(o)];i&&i.onExpose&&a.push(function(){return i.onExpose.call(i,e)})}}),s.length>0){var c=s.reduce(function(e,n){if(!n)return e;var t=n.split("#");if(t.length<2)return e;var o=Number(t[0]),r=Number(t[1]),i=e[e.length-1];return i&&i.length&&i[0]===o?i.push(r+1):e.push([o,r+1]),e},[]),d=c.map(function(e){return e[0]}).join("_"),l=c.map(function(e){return e.slice(1).join(";")}).join("_"),u=["",2,d,r.$store.state.index.data.searchID||"",o.xB.sessionId||"",l].join(",");o.hi.commonCgi({cgiName:i.yh.mmDataReport,data:{clientversion:o.xB.wechatVersion,device:r.deviceType,item_list:[{logid:21103,log_buffer:u}]}}),console.log("首页数据的曝光上报21103:"),console.log(u)}if(o.Gc.$emit(o.U3.INDEX_COMP_EXPOSE,e),r.bottomData&&e.findIndex(function(e){return/^__bottomComp__/.test(e)})>-1){var m=["",o.xB.sessionId,1].join(",");o.hi.commonCgi({cgiName:i.yh.mmDataReport,data:{clientversion:o.xB.wechatVersion,device:r.deviceType,item_list:[{logid:24403,log_buffer:m}]}}),console.log("隐私设置入口曝光[24403]: ",m)}},onTapVert:function(e,n){this._doSearchOperation(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){var o,r,i;o=e,r=n,i=t[n],r in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i})}return e}({action:2,scene:s.RL.S1S_VERTICAL},e))},onTapVertSetting:function(){this.settingData&&(this.M_go(this.settingData),this.onTapSetting())}}}},178982:function(e,n,t){t.d(n,{c:function(){return o}});var o=function(){return Promise.all([t.e("vendors-node_modules_htmlparser2_lib_index_js-node_modules_katex_dist_katex_js-node_modules_r-e6ef3e"),t.e("vendors-node_modules_grapheme-splitter_index_js-node_modules_piexifjs_piexif_js-node_modules_-3cd364"),t.e("vendors-node_modules_tencent_libpag-lite-live_lib_pag_umd_js-node_modules_tencent_stockfe-kli-e06b6f"),t.e("src_views_result_block_service-search_service-search-item_sub-item_table_grid-table_vue"),t.e("src_components_text_text-auto-newline_vue-src_libs_utils_animate_js-src_views_chat-bot_libs_r-8a0931"),t.e("src_components_general_top-one-qa_content_markdown_vue-src_components_text_text-auto-newline_vue"),t.e("src_components_general_comm-widget_film-ticket_vue-src_components_general_competition_schedul-885711"),t.e("src_components_general_deep-research_components_dr-reference_vue-src_components_general_top-o-d3f65d"),t.e("src_components_general_deep-research_deep-research-report_vue-src_components_general_deep-res-7c9385"),t.e("tabPanel"),t.e("src_components_general_adjust-accounts_adjust-accounts_vue-src_components_general_checkbox-di-907a8d"),t.e("src_components_general_source-panel_source-panel_vue"),t.e("src_components_cell-entry_cell-entry_vue-src_components_office-account_biz_vue-src_libs_badjs-941f2f"),t.e("eager")]).then(t.bind(t,617069)).then(function(e){return e})}},683732:function(e,n,t){t.d(n,{Dd:function(){return o.Dd},Dg:function(){return r.D},_J:function(){return r._},rw:function(){return o.rw}});var o=t(754743),r=t(947161)},947161:function(e,n,t){t.d(n,{D:function(){return c},_:function(){return d}});var o,r,i=t(720144),s=t(116381);function a(e,n,t,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){t(e);return}a.done?n(c):Promise.resolve(c).then(o,r)}var c=i.default.observable({show:!1,subTitle:"",debugInfo:"",onCancel:function(){c.show=!1}});var d=(r=(o=function(e){var n,t,o;return function(e,n){var t,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(t)throw TypeError("Generator is already executing.");for(;s;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(e,s)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(r){switch(r.label){case 0:if(!(null==e?void 0:e.debug_info))return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,s.A.getRecommendDebugInfo({qid:null==e?void 0:e.qid,aid:null==e?void 0:null===(n=e.answer)||void 0===n?void 0:n.aid,debug_info:e.debug_info})];case 2:if(!(null==(o=r.sent())?void 0:null===(t=o.json)||void 0===t?void 0:t.readable_debug_info))return[2];return c.debugInfo=o.json.readable_debug_info,c.subTitle=e.text,c.show=!0,[3,5];case 3:return console.error("onLongpressDebug err: ",r.sent()),[3,5];case 4:return[7];case 5:return[2]}})},function(){var e=this,n=arguments;return new Promise(function(t,r){var i=o.apply(e,n);function s(e){a(i,t,r,s,c,"next",e)}function c(e){a(i,t,r,s,c,"throw",e)}s(void 0)})}),function(e){return r.apply(this,arguments)})}}]);