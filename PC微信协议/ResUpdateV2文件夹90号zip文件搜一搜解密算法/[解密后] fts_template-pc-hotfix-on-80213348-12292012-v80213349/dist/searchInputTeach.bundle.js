"use strict";(self.webpackChunkweixin_search=self.webpackChunkweixin_search||[]).push([["searchInputTeach"],{609258:function(t,e,o){var n=o(771245),r=o(922869),i=o(551900),a=o(938127),s=(0,i.Z)(r.Z,n.s,n.x,!1,null,"47eb17a4",null);"function"==typeof a.Z&&(0,a.Z)(s),e.Z=s.exports},551349:function(t,e,o){o.d(e,{Z:function(){return n}});function n(t){t.options.__wxs_id="a2e3146a"}},954553:function(t,e,o){o.r(e);var n=o(936463),r=o(450659),i=o(551900),a=o(211087),s=(0,i.Z)(r.Z,n.s,n.x,!1,null,"6abe9200",null);"function"==typeof a.Z&&(0,a.Z)(s),e.default=s.exports},91675:function(t,e,o){o.d(e,{Z:function(){return n}});function n(t){t.options.__wxs_id="7af41ab1"}},718785:function(t,e,o){var n=o(244843),r=o(453998),i=o(551900),a=o(14679),s=(0,i.Z)(r.Z,n.s,n.x,!1,null,"a35e9fac",null);"function"==typeof a.Z&&(0,a.Z)(s),e.Z=s.exports},164172:function(t,e,o){o.d(e,{Z:function(){return n}});function n(t){t.options.__wxs_id="f5e1b42a"}},119399:function(t,e,o){var n=o(730592),r=o(15437),i=o(551900),a=o(194716),s=(0,i.Z)(r.Z,n.s,n.x,!1,null,"01c161e4",null);"function"==typeof a.Z&&(0,a.Z)(s),e.Z=s.exports},589300:function(t,e,o){o.d(e,{Z:function(){return n}});function n(t){t.options.__wxs_id="fc032e47"}},566775:function(t,e,o){o.r(e);var n=o(828962),r=o(966641),i=o(551900),a=o(916072),s=(0,i.Z)(r.Z,n.s,n.x,!1,null,"f067adb8",null);"function"==typeof a.Z&&(0,a.Z)(s),e.default=s.exports},376969:function(t,e,o){o.d(e,{Z:function(){return n}});function n(t){t.options.__wxs_id="a036dacb"}},938127:function(t,e,o){var n=o(551349);e.Z=n.Z},211087:function(t,e,o){var n=o(91675);e.Z=n.Z},14679:function(t,e,o){var n=o(164172);e.Z=n.Z},194716:function(t,e,o){var n=o(589300);e.Z=n.Z},916072:function(t,e,o){var n=o(376969);e.Z=n.Z},922869:function(t,e,o){var n=o(898751);e.Z=n.Z},450659:function(t,e,o){var n=o(799592);e.Z=n.Z},453998:function(t,e,o){var n=o(789625);e.Z=n.Z},15437:function(t,e,o){var n=o(404518);e.Z=n.Z},966641:function(t,e,o){var n=o(739701);e.Z=n.Z},771245:function(t,e,o){o.d(e,{s:function(){return n},x:function(){return r}});var n=function(){var t=this.$createElement;return(this._self._c||t)("service-search-pop-form",{attrs:{show:this.showServiceSearchPopForm,data:this.serviceSearchPopForm,"parent-item-pos":this.serviceSearchPopFormParentItemPos,"data-fc-170c823a4":"","data-fcn-Dialog":"","data-fr-166bc222d":""}})},r=[]},936463:function(t,e,o){o.d(e,{s:function(){return n},x:function(){return r}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"h5RenderBoxRef",attrs:{"data-fcn-index":"","data-fr-12566633e":""}},[o("scroll",{key:"ResultScroll",staticClass:"search_data",attrs:{source:t.resultObj,"reset-expose-event":"newSearchArrived","data-fc-1f133f69a":""}},[t._l(t.resultObj.data,function(e,n){return[e.tips?o("p",{key:e.vueKey+"-tips",staticClass:"search_block-tips"},[t._v("\n          "+t._s(e.tips)+"\n        ")]):t._e(),o(t.M_getComponent(t.blockMap.getItem(e.type),e.type,"result.vue"),{key:e.vueKey,tag:"component",staticClass:"search_result_block",class:{hidden:t.hidden||e.vueHidden,"box-with-card-style":t.needCardStyle(e,t.getBlockPos(e,n)),"box-without-card-style":t.isBoxCardStyle&&!t.needCardStyle(e,t.getBlockPos(e,n)),is_vertial_search:t.isVerticalSearch,"block-box--with-header":t.showBoxHeader(e)},attrs:{"cn-props":e,d:e,"type-pos":t.getBlockPos(e,n),"data-component-boxid":e.boxID,"data-tracker-uniqueId":t.M_getTrackerUniqueId(e),"data-component-blockpos":t.getBlockPos(e,n),"data-box":t.M_isTrackerBox(e),"aria-hidden":t.hidden||e.vueHidden,"data-fc-1f133f698":""},on:{allChildComponentMounted:function(o){t.onChildComponentMounted(e,n,t.blockMap.getItem(e.type),!0)}}}),e.bottomTips?o("p",{key:e.vueKey+"-bottomTips",staticClass:"search_block-tips"},[t._v("\n          "+t._s(e.bottomTips)+"\n        ")]):t._e()]})],2)],1)},r=[]},244843:function(t,e,o){o.d(e,{s:function(){return n},x:function(){return r}});var n=function(){var t,e=this.$createElement,o=this._self._c||e;return o("div",{class:((t={"search-bar-wrapper":!0,"search-bar-wrapper--slot-show":this.shouldShowSlot&&this.enableSlot&&this.isStickyBottom,"search-bar-wrapper--bottom":this.isStickyBottom,"search-bar-wrapper--top":this.isStickyTop,animate:this.isSearchBarAnimate})[this.getHalfScreenClass]=!0,t),attrs:{id:"search-bar","data-fcn-index":"","data-fr-16e7ca40c":""}},[o("div",{class:{"search-bar-wrapper__slot":!0,"search-bar-wrapper__slot--show":this.isSlotShow&&this.enableSlot&&this.isStickyBottom}},[this._t("default")],2),o("search-bar-body",{ref:"searchBar",class:{"search-bar-wrapper__bd":!0,"search-bar-wrapper__bd--bottom":this.isStickyBottom,"search-bar-wrapper__bd--without-slot-show":this.isStickyBottom&&!(this.isSlotShow&&this.enableSlot)},attrs:{"initial-text":this.initialText,placeholder:this.placeholder,disabled:this.disabled,handlers:this.handlers,"auto-focus":this.autoFocus,"force-show-grow-input":this.forceShowGrowInput||this.shouldForceShowGrowInput,"immediate-show-input":this.immediateShowInput,"should-show-cancel":this.isCancelShow&&this.shouldShowCancel&&!(this.forceShowGrowInput||this.shouldForceShowGrowInput),"should-show-bottom":this.shouldShowBottom&&(this.isBottomShow||this.forceShowGrowInput||this.shouldForceShowGrowInput||this.isSlotShow),"should-show-checkbox-options":this.shouldShowCheckboxOptions,"should-show-upload-tools":this.shouldShowUploadTools,"data-fc-16117dda5":""},on:{"input:will-show":this.willInputShow,"input:will-hide":this.willInputHide,"input:show":this.onInputShow,"input:hide":this.onInputHide,"input:change":this.onInputChange,"input:blur":this.onInputBlur,search:this.onSearch,focus:this.onInputFocus,resize:this.onSearchBarWrapperResize}}),o("keyboard-spacer",{directives:[{name:"show",rawName:"v-show",value:this.isStickyBottom,expression:"isStickyBottom"}],ref:"keyboardSpacer",staticClass:"search-bar-wrapper__spacer",attrs:{"data-fc-16117dda6":""}}),this._t("border")],2)},r=[]},730592:function(t,e,o){o.d(e,{s:function(){return n},x:function(){return r}});var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"keyboard-spacer",style:this.style,attrs:{"data-fcn-keyboard-spacer":"","data-fr-15a82c4e8":""}})},r=[]},828962:function(t,e,o){o.d(e,{s:function(){return n},x:function(){return r}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{"data-fcn-index":"","data-fr-10e68fd39":""}},[o("div",{staticClass:"search-input-teach",style:{paddingTop:t.topAreaHeight+"px"}},[o("arrow-left-regular-icon",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"navigation-bar__back active__opacity",attrs:{color:"var(--FG-0)","data-fc-18292abd0":"","data-cli":""},nativeOn:{click:function(e){return e.stopPropagation(),t.onTapBack(e)}}}),o("search-bar",{ref:"searchBar",staticClass:"search-bar",attrs:{"should-show-cancel":!1,placeholder:t.defaultPlaceholder,handlers:t.searchBarHandlers,"enable-slot":!0,position:t.searchBarPosition,"auto-focus":t.searchBarAutoFocus,"force-show-grow-input":t.searchBarForceShowGrowInput,"auto-hide-slot":!1,"is-fake-tap-to-full-screen":!0,"immediate-show-input":!0,"data-fc-18292abce":""},on:{search:t.onSearch,cancel:t.onCancel,change:t.onChange}})],1),o("search-dialog",{attrs:{"data-fc-18292abcc":""}})],1)},r=[]},898751:function(t,e,o){var n,r,i=o(420629);e.Z={computed:(n=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){var n,r,i;n=t,r=e,i=o[e],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i})}return t}({showServiceSearchPopForm:function(){return!!this.serviceSearchPopForm.pop}},(0,i.rn)({serviceSearchPopForm:function(t){return t.serviceSearchPopForm}})),r=(r={serviceSearchPopFormParentItemPos:function(){var t;return null===(t=this.serviceSearchPopForm.pop)||void 0===t?void 0:t.parentItemPos}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o.push.apply(o,n)}return o})(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}),n)}},799592:function(t,e,o){var n=o(798509),r=o(119806),i=o(369353),a=o(392935),s=o(136525),c=o(758153),u=o(462474),l=o(491508),h=o(578248);function d(t,e,o,n,r,i,a){try{var s=t[i](a),c=s.value}catch(t){o(t);return}s.done?e(c):Promise.resolve(c).then(n,r)}e.Z={components:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){var n,r,i;n=t,r=e,i=o[e],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i})}return t}({},r.Z.components),mixins:[n.uW,n.jB,a.Z],provide:function(){return{}},data:function(){return{blockMap:i.o,resultObj:{data:[]}}},computed:{},watch:{"resultObj.data":{handler:function(t){},immediate:!0}},created:function(){var t=this,e=(0,c._B)();if(e){this.resultObj=e.resultJson;return}u.Z.$on(l.lb.onUiInit,function(e){var o=(0,c._B)();if(o){t.resultObj=o.resultJson;return}})},mounted:function(){var t;return(t=function(){return function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(t){return[2]})},function(){var e=this,o=arguments;return new Promise(function(n,r){var i=t.apply(e,o);function a(t){d(i,n,r,a,s,"next",t)}function s(t){d(i,n,r,a,s,"throw",t)}a(void 0)})})()},methods:{onChildComponentMounted:function(t,e,o,n){var r,a=this;t.type!==s.jJ.NEWS_HOT&&t.type!==s.jJ.SERVICE_SEARCH_BLOCK&&t.type!==s.jJ.MIXED_BOX&&i.o[t.type]?((0,window.setTimeout)(function(){a.M_finishComponentMounted(e,a.resultObj.data,o)},0===e?50:0),r=!0):n&&(this.M_finishComponentMounted(e,this.resultObj.data,o),r=!0),0===e&&r&&this.$nextTick(function(){if(a.$refs.h5RenderBoxRef){var t=a.$refs.h5RenderBoxRef.getBoundingClientRect(),e=t.height,o=t.width;h.ZP.onWebViewSizeChanged({width:o,height:e})}})},showBoxHeader:function(t){var e;return t.showBoxHeader||(null===(e=t.boxExtraInfo)||void 0===e?void 0:e.showBoxHeader)},getBlockPos:function(t,e){var o;return~~(null!==(o=t.vueBlockIndex)&&void 0!==o?o:e)+1},needCardStyle:function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2],!0}}}},789625:function(t,e,o){var n=o(306829),r=o(119399),i=o(798509),a=o(234031);o(486920);var s=o(619269),c=o(984928);e.Z={components:{SearchBarBody:n.Z,KeyboardSpacer:r.Z},mixins:[a.Z,s.Z],props:{shouldShowCancel:{type:Boolean,default:!1},shouldShowBottom:{type:Boolean,default:!0},shouldShowCheckboxOptions:{type:Boolean,default:!0},initialText:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},handlers:{type:Array,default:function(){return[]}},enableSlot:{type:Boolean,default:!0},position:{type:String,default:"bottom"},autoFocus:{type:Boolean,default:!1},forceShowGrowInput:{type:Boolean,default:!1},autoHideSlot:{type:Boolean,default:!0},immediateShowInput:{type:Boolean,default:!1},isSearchBarAnimate:{type:Boolean,default:!1}},data:function(){return{shouldShowSlot:!1,isSlotShow:!1,isCancelShow:!0,isBottomShow:!1,shouldForceShowGrowInput:!1}},computed:{getHalfScreenClass:function(){return i.xB.isMpH5Scenes?"search-bar-wrapper-half-screen":""},isStickyTop:function(){return"top"===this.position},isStickyBottom:function(){return"top"!==this.position},shouldShowUploadTools:function(){return!i.xB.isMpH5Scenes&&!0}},watch:{shouldShowSlot:function(t){t?this.$emit("slot:should-show"):this.$emit("slot:should-hide")}},methods:{fill:function(t){var e,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(null===(o=this.$refs.searchBar)||void 0===o||o.showInput(!0)),void 0!==t)null===(e=this.$refs.searchBar)||void 0===e||e.fill(t),t&&(this.shouldForceShowGrowInput=!0)},hideSlot:function(){var t=this;this.isSlotShow=!1,this.shouldForceShowGrowInput=!1,this.$nextTick(function(){t.shouldShowSlot=!1}),i.xB.query&&setTimeout(function(){i.xB.setValue({curRouteName:c.kO.RESULT})},200)},willInputShow:function(){var t;null===(t=this.$refs.keyboardSpacer)||void 0===t||t.show(),this.isBottomShow=!0,this.isCancelShow=!1,this.shouldShowSlot=!0,this.isSlotShow=!0},willInputHide:function(){var t;null===(t=this.$refs.keyboardSpacer)||void 0===t||t.hide(),this.isBottomShow=!1,this.isCancelShow=!0,this.autoHideSlot&&(this.isSlotShow=!1)},onInputShow:function(){},onInputHide:function(){this.autoHideSlot&&(this.shouldShowSlot=!1)},onInputChange:function(t){this.$emit("change",t)},onInputBlur:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.text,o=t.fileCount;this.$store.commit({type:"chatbot/updateIsPerformActionEnabled",autoDisabled:!0}),this.shouldForceShowGrowInput=!!(void 0===e?"":e)||!!(void 0===o?0:o)},onInputFocus:function(){this.$store.commit({type:"chatbot/updateIsPerformActionEnabled",enabled:1}),this.$emit("focus")},onSearch:function(t){this.$emit("search",t)},handleAutoFocus:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150;setTimeout(function(){var e;null===(e=t.$refs.searchBar)||void 0===e||e.handleAutoFocus()},e)},onSearchBarWrapperResize:function(t){this.$emit("resize",t)}}}},404518:function(t,e,o){var n,r,i=o(420629),a=o(448188);e.Z={data:function(){return{initWindowHeight:window.innerHeight,androidNeedHolder:!1,isShow:!1}},computed:(n=function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){var n,r,i;n=t,r=e,i=o[e],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i})}return t}({},(0,i.rn)({keyboardHeight:function(t){return t.result.keyboardHeight},isSearchKeyboardShow:function(t){return t.result.isSearchKeyboardShow}})),r=(r={style:function(){var t=this.isShow?"calc(".concat(this.keyboardHeight,"px - var(--SAFE-BOTTOM, 0px))"):"0px";return{height:t}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o.push.apply(o,n)}return o})(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}),n),watch:{isSearchKeyboardShow:function(t){}},created:function(){a.ZP.onUserToggleFullScreen(this.onUserToggleFullScreen)},beforeDestroy:function(){a.ZP.offUserToggleFullScreen(this.onUserToggleFullScreen)},methods:{onUserToggleFullScreen:function(){this.initWindowHeight=window.innerHeight},show:function(){this.isShow=!0},hide:function(){this.isShow=!1}}}},739701:function(t,e,o){var n=o(798509),r=o(718785),i=o(609258),a=o(420629),s=o(216768),c=o(984928),u=o(206830),l=o(84762),h=o(111267),d=o(779716);function f(t,e,o,n,r,i,a){try{var s=t[i](a),c=s.value}catch(t){o(t);return}s.done?e(c):Promise.resolve(c).then(n,r)}function p(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),n.forEach(function(e){var n,r,i;n=t,r=e,i=o[e],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i})}return t}function b(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):(function(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o.push.apply(o,n)}return o})(Object(e)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}),t}e.Z={components:{SearchBar:r.Z,SearchDialog:i.Z,ArrowLeftRegularIcon:s.Z},mixins:[u.Z,h.Z],provide:function(){return{}},data:function(){return{searchBarDisabled:!1,searchBarPosition:"top",searchBarAutoFocus:!0,searchBarForceShowGrowInput:!0,topAreaHeight:0}},computed:b(p({},(0,a.rn)({uploadFileList:function(t){return t.chatbot.uploadFileList}})),{defaultPlaceholder:function(){return"补充描述或直接搜索"},searchBarHandlers:function(){var t=[];return t.push("voice"),t.push("search"),t}}),created:function(){},mounted:function(){var t;return(t=function(){var t,e,o,r,i,a,s;return function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(o)throw TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,function(c){switch(c.label){case 0:if(n.hi.preloadWebSearchPage(),n.xB.query&&(null===(o=this.$refs.searchBar)||void 0===o||o.fill(n.xB.query)),!(null===(e=n.xB.chatbotExtParams)||void 0===e?void 0:null===(t=e.uploadFileList)||void 0===t?void 0:t.length))return[3,5];if(i=null===(r=n.xB.chatbotExtParams)||void 0===r?void 0:r.uploadFileList,this.$store.dispatch("chatbot/setUploadFileList",{uploadFileList:i}),!(i[0].fileType===l.Tv.File&&i.some(function(t){return["pending"].includes(t.status)})))return[3,2];return[4,this.M_asyncUploadFile(this.uploadFileList)];case 1:return c.sent(),[3,5];case 2:if(!(i[0].fileType===l.Tv.Image&&i.some(function(t){return["init"].includes(t.status)})))return[3,5];return[4,n.su.get({abskey:"localFileList"})];case 3:if(a=c.sent(),s=[],i.forEach(function(t){var e=a.find(function(e){return["init"].includes(t.status)&&e.localId===t.localId});s.push(b(p({},t),{thumbBase64:"data:image/jpg;base64,".concat(e.thumbData),fileType:l.Tv.Image,status:"pending"}))}),!s.length)return[3,5];return this.$store.dispatch("chatbot/setUploadFileListForAsync",{uploadFileList:s}),[4,this.M_asyncUploadImg(this.uploadFileList)];case 4:c.sent(),c.label=5;case 5:return[2]}})},function(){var e=this,o=arguments;return new Promise(function(n,r){var i=t.apply(e,o);function a(t){f(i,n,r,a,s,"next",t)}function s(t){f(i,n,r,a,s,"throw",t)}a(void 0)})}).apply(this)},methods:{onSearch:function(t){var e,o,r=t.query,i=t.isVoiceEmit,a=void 0!==i&&i,s=t.voiceId;if(!!(r||this.uploadFileList.length)&&!!this.M_checkCanSearch(this.uploadFileList)){var u={};this.uploadFileList.length&&(u=(0,d.k)(this.uploadFileList));var l=this.M_composeParentSid({t:a?c.X$.MMSEARCH_TYPE_VOICE_SEARCH:c.X$.ENTER_INPUT_CONFIRM,s:"",kv:p({isDeepThink:(null===(e=n.xB.additionalCheckboxesExtReqParams.find(function(t){return"globalSearchDeepThink"===t.key}))||void 0===e?void 0:e.uintValue)||0,isFromVoice:a?1:0,uiStyle:2,voiceId:s},u)});n.hi.startWebSearch({type:0,parentSearchID:l,scene:n.xB.scene||3,query:r,isBackToChat:!0,extParams:encodeURIComponent(JSON.stringify({hideNavBar:!0,sessionId:n.xB.sessionId,webSearchStyle:n.xB.webSearchStyle||1,hideSearchBar:!0,quarkStyle:1,isBackToChat:!0,checkboxes:n.xB.quarkStyleSearchBarCheckboxOptions,chatbotExtParams:{uploadFileList:this.uploadFileList.map(function(t){return b(p({},t),{thumbBase64:""})})},parentSearchID:l,isVoiceEmitSearch:n.xB.isVoiceEmitSearch})),customNavBarParams:{nativeConfig:{},hideSearchBar:!0,hideNavBar:!0}}),null===(o=this.$refs.searchBar)||void 0===o||o.fill(""),n.hi.removeWebviewPage({index:1,animated:!1})}},onCancel:function(){},onChange:function(t){},onTapBack:function(){n.hi.removeWebviewPage({index:0,animated:!1})}}}}}]);