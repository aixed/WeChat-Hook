"use strict";(self.webpackChunkweixin_search=self.webpackChunkweixin_search||[]).push([["src_components_text_text-auto-newline_vue-src_libs_utils_animate_js-src_views_chat-bot_libs_r-8a0931"],{657857:function(t,e,n){var r=n(60431),o=n(446905),i=n(551900),a=n(791491),u=(0,i.Z)(o.Z,r.s,r.x,!1,null,"d9e5fe30",null);"function"==typeof a.Z&&(0,a.Z)(u),e.Z=u.exports},776615:function(t,e,n){n.d(e,{Z:function(){return r}});function r(t){t.options.__wxs_id="c967290f"}},791491:function(t,e,n){var r=n(776615);e.Z=r.Z},446905:function(t,e,n){var r=n(891357);e.Z=r.Z},60431:function(t,e,n){n.d(e,{s:function(){return r},x:function(){return o}});var r=function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"auto-newline-wrap",attrs:{"data-fcn-text-auto-newline":"","data-fr-13c698295":""}},[e("span",{ref:"spaceRef",staticClass:"auto-newline-space"},[this._v("\xa0")]),e("span",{staticClass:"auto-newline-content",style:this.contentStyle},[this._t("default")],2)])},o=[]},891357:function(t,e,n){var r=n(798509);e.Z={name:"TextAutoNewline",mixins:[r.uW,r.jB,r.Sx],data:function(){return{contentStyle:{}}},mounted:function(){this.contentStyle={marginLeft:"-".concat(this.$refs.spaceRef.getBoundingClientRect().width,"px")}}}},691409:function(t,e,n){n.d(e,{Bo:function(){return p},FM:function(){return h},G$:function(){return f},KG:function(){return v},jt:function(){return s}});var r=n(654087),o=n.n(r);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){n(t);return}u.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(t){a(i,r,o,u,c,"next",t)}function c(t){a(i,r,o,u,c,"throw",t)}u(void 0)})}}function c(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function s(t){return l.apply(this,arguments)}function l(){return(l=u(function(t){var e,n,r,i,a,u;return c(this,function(c){return(e=t.newValueList,n=t.oldValueList,r=t.duration,i=t.handler,Array.isArray(e)&&Array.isArray(n))?(a=e.map(function(t,e){return t-n[e]}),u=Date.now(),[2,new Promise(function(t){var c=function(){var s=Date.now()-u;i(n.map(function(t,e){return t+a[e]*s/r})),s<r?o()(c):(i(e),t())};c()})]):[2]})})).apply(this,arguments)}function f(t){return d.apply(this,arguments)}function d(){return(d=u(function(t){var e,n=arguments;return c(this,function(r){return e=n.length>1&&void 0!==n[1]?n[1]:300,[2,s({newValueList:[t],oldValueList:[window.scrollY],duration:e,handler:function(t){var e,n,r=(n=1,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n,r,o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var i=[],a=!0,u=!1;try{for(o=o.call(t);!(a=(n=o.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,r=t}finally{try{!a&&null!=o.return&&o.return()}finally{if(u)throw r}}return i}}(e,1)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];window.scrollTo({top:r,behavior:"instant"})}})]})})).apply(this,arguments)}function p(t){return R.apply(this,arguments)}function R(){return(R=u(function(t){var e;return c(this,function(n){return(e=window.document.documentElement.scrollHeight-window.innerHeight,t)?[2,f(e,t)]:(window.scrollTo({top:e,behavior:"instant"}),[2])})})).apply(this,arguments)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(document.documentElement.scrollTop||document.body.scrollTop)+document.documentElement.clientHeight>=(document.documentElement.scrollHeight||document.body.scrollHeight)-t}function h(t){if("number"==typeof t)return t;if("string"==typeof t){var e=t.match(/^(\d+)(px)$/i);if(e)return parseInt(e[1],10)}return 0}},551981:function(t,e,n){var r=n(496868);e.Z={mixins:[r.Z],provide:function(){var t=this;return{get DRR_P_agentReportId(){return t.DRR_agentReportId}}},computed:{DRR_agentReportId:function(){return""}},methods:{DRR_generateAgentReportId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.agentId,n=t.pos,r=t.desc;return"".concat(void 0===e?"":e,"|").concat(void 0===n?1:n,"|").concat(r?encodeURIComponent(JSON.stringify(r)):"")}}}},79568:function(t,e,n){var r=n(496868);e.Z={mixins:[r.Z],provide:function(){var t=this;return{get DRR_P_boxData(){return t.DRR_boxData}}},computed:{DRR_boxData:function(){throw Error("DRR_boxData not implemented")}}}},496868:function(t,e,n){var r=n(798509);e.Z={methods:{DRR_getCommonReportData:function(){var t,e,n,o,i,a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).actionType,u=this.DRR_D_boxData||this.DRR_boxData;if(!u)return;var c=u.d;if(!!c)return{query:null===(t=c.getBase64Query)||void 0===t?void 0:t.call(c),parentSearchId:c.vueParentSearchID,reqBusinessType:null!==(i=null!==(o=u.reqBusinessType)&&void 0!==o?o:c.vueReqBusinessType)&&void 0!==i?i:r.xB.type,searchId:c.vueSearchId||r.xB.searchId,requestId:c.vueRid||this.$store.state.result.previousRid||(null===(e=this.$store.state.result.fixedPreRenderInfo)||void 0===e?void 0:e.requestId),businessType:c.real_type,subType:c.subType,stepInfo:this.DRR_D_stepReportId||this.DRR_stepReportId||this.DRR_P_stepReportId,taskInfo:this.DRR_D_taskReportId||this.DRR_taskReportId||this.DRR_P_taskReportId,agentInfo:this.DRR_D_agentReportId||this.DRR_agentReportId||this.DRR_P_agentReportId,actionType:a,originalSearchId:null===(n=c.itemInfo)||void 0===n?void 0:n.oriSid}}}}},743999:function(t,e,n){var r=n(883031),o=n(496868);e.Z={mixins:[o.Z],inject:{DRR_P_stepReportId:{default:function(){return""}},DRR_P_agentReportId:{default:function(){return""}},DRR_P_taskReportId:{default:function(){return""}},DRR_P_boxData:{default:function(){}}},computed:{DRR_D_stepReportId:function(){return this.DRR_stepReportId||this.DRR_P_stepReportId},DRR_D_agentReportId:function(){return this.DRR_agentReportId||this.DRR_P_agentReportId},DRR_D_taskReportId:function(){return this.DRR_taskReportId||this.DRR_P_taskReportId},DRR_D_boxData:function(){return this.DRR_boxData||this.DRR_P_boxData}},methods:{DRR_docExposeReportId:function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.stepReportId,a=o.agentReportId,u=o.taskReportId;return["doc",null!==(e=null!=i?i:this.DRR_D_stepReportId)&&void 0!==e?e:"",null!==(n=null!=a?a:this.DRR_D_agentReportId)&&void 0!==n?n:"",null!==(r=null!=u?u:this.DRR_D_taskReportId)&&void 0!==r?r:"",this.DRR_generateDocReportId(t)].join("$")},DRR_generateDocReportId:function(t){var e=t.docId,n=t.docType,r=t.docPos,o=t.desc;return"".concat(void 0===e?"":e,"|").concat(void 0===n?"":n,"|").concat(void 0===r?1:r,"|").concat(o?encodeURIComponent(JSON.stringify(o)):"")},DRR_clickReport:function(t){var e=t.actionType,n=t.docInfo,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.stepReportId,a=o.agentReportId,u=o.taskReportId,c=this.DRR_getCommonReportData({actionType:e});c.docInfo=n||"",void 0!==i&&(c.stepInfo=i),void 0!==a&&(c.agentInfo=a),void 0!==u&&(c.taskInfo=u),!c.actionValue&&(c.actionValue={});var s=c.searchId||"";c.actionValue.clickId=[s,Date.now(),"".concat(Math.random()).slice(2,10)].join("-"),(0,r.Z)(c)},DRR_canReportClick:function(){return!!this.DRR_getCommonReportData()}}}},682723:function(t,e,n){var r=n(496868);e.Z={mixins:[r.Z],provide:function(){var t=this;return{get DRR_P_stepReportId(){return t.DRR_stepReportId}}},computed:{DRR_stepReportId:function(){return this.DRR_generateStepReportId()}},methods:{DRR_generateStepReportId:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stepId;return String(t||0)}}}},435633:function(t,e,n){var r=n(496868);e.Z={mixins:[r.Z],provide:function(){var t=this;return{get DRR_P_taskReportId(){return t.DRR_taskReportId}}},computed:{DRR_taskReportId:function(){return this.DRR_generateTaskReportId()}},methods:{DRR_generateTaskReportId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.taskId,n=t.taskDesc;return"".concat(void 0===e?"":e,"|").concat(encodeURIComponent(void 0===n?"":n))}}}},152750:function(t,e,n){n.d(e,{Ao:function(){return a.Z},Qe:function(){return r.Z},fE:function(){return o.Z},kP:function(){return u.Z},lq:function(){return i.Z}});var r=n(79568),o=n(682723),i=n(435633),a=n(551981),u=n(743999)},836378:function(t,e,n){n.d(e,{H6:function(){return u},OL:function(){return i},Pb:function(){return f},R2:function(){return l},Se:function(){return s},ni:function(){return c},r3:function(){return a}});var r=n(798509);function o(t){if(t.nodeType===Node.TEXT_NODE){var e=t.parentElement;if((null==e?void 0:e.tagName)==="SPAN"&&e.getAttribute("seq"))return{el:e};if((null==e?void 0:e.tagName)==="SPAN"&&e.classList.contains("spilt-text")){var n=function(t){if((null==t?void 0:t.tagName)==="SPAN"&&t.classList.contains("spilt-text")){var e=t.parentElement;if((null==e?void 0:e.tagName)==="SPAN"&&e.getAttribute("seq")){var n=0,r=!0,o=!1,i=void 0;try{for(var a,u=Array.from(e.childNodes)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c,s=a.value;if(s===t)break;var l=s.childNodes[0];l&&(n+=(null===(c=l.textContent)||void 0===c?void 0:c.length)||0)}}catch(t){o=!0,i=t}finally{try{!r&&null!=u.return&&u.return()}finally{if(o)throw i}}return{el:e,preLength:n}}}}(e);if(n)return n}}else if(t.nodeType===Node.ELEMENT_NODE){if("SPAN"===t.tagName&&t.getAttribute("seq"))return{el:t};var o=t.querySelector(".selectable-text");if(o)return r.hi.log({key:"ai-search-underline",msg:"selectableText [".concat(t.tagName,"] ").concat(t.textContent)}),{el:o}}return{el:void 0}}function i(t){if(!t)return null;var e=t.startContainer,n=t.endContainer,r=o(e),i=r.el,a=r.preLength,u=o(n),c=u.el,s=u.preLength;if(!i||!c)return console.error("getSelectionData get closed seq span failed",{startSpan:i,endSpan:c,startEl:e,endEl:n}),null;var l=f(i),d=l.seq,p=l.textTag,R=f(c),v=R.seq,h=R.textTag;return{startSeq:d,startTag:p,startOffset:t.startOffset+(a||0),endSeq:v,endTag:h,endOffset:t.endOffset+(s||0),active:!1,isPrivate:!0,text:t.toString()}}function a(t,e){try{e.parentNode}catch(t){return!1}return t.contains(e)}function u(t){var e=(t||document).querySelectorAll("span[answer]");return Array.from((t||document).querySelectorAll("span[think]")).concat(Array.from(e))}function c(t,e){return["startSeq","endSeq","startTag","endTag","startOffset","endOffset"].every(function(n){return t[n]===e[n]})}function s(t){var e,n,r=t.startSeq,o=t.endSeq,i=t.startTag,a=t.endTag,c=t.startOffset,s=t.endOffset,l=u(),d=l.findIndex(function(t){var e=f(t),n=e.seq,o=e.textTag;return n===r&&o===i}),p=l.findIndex(function(t){var e=f(t),n=e.seq,r=e.textTag;return n===o&&r===a});if(-1===d||-1===p)return"";var R=document.createRange();R.setStart(l[d],0),R.setEndAfter(l[p]);var v=R.toString(),h=(null!==(n=null===(e=l[p].textContent)||void 0===e?void 0:e.length)&&void 0!==n?n:0)-s;return v.slice(c,v.length-h)}function l(t,e){var n=t.seq,r=t.textTag,o=e.startSeq,i=e.endSeq,a=function(){if("answer"===r)return"answer"!==e.startTag||n>o;return"think"===e.startTag&&n>o}(),u=function(){if("answer"===r)return"answer"===e.endTag&&n<i;return"think"!==e.endTag||n<i}();return a&&u}function f(t){var e,n;return{seq:Number(t.getAttribute("seq")),textTag:"string"==typeof(n=(e=t).getAttribute("answer"))?"answer":"string"==typeof(n=e.getAttribute("think"))?"think":null}}},883031:function(t,e,n){var r=n(231097),o=n(439433);e.Z=(0,o.ZP)({logId:36218,transferFn:function(t){return["",t.query||"",t.sessionId||r.Z.sessionId,t.searchId||r.Z.searchId,t.scene||r.Z.scene,(0,o.x4)((t.parentSearchId||r.Z.parentSearchID||"").replace(/,/g,";")),t.reqBusinessType||0,t.businessType||0,t.subType||0,t.stepInfo||"",t.taskInfo||"",t.agentInfo||"",t.docInfo||"",t.actionType||0,("object"==typeof t.actionValue?encodeURIComponent(JSON.stringify(t.actionValue)):t.actionValue)||"",t.actionTimestamp||Date.now(),t.originalSearchId||"",t.requestId||""].join(",")},mergeFn:function(t,e){var n,r,o=!0,i=!1,a=void 0;try{for(var u,c,s=["query","sessionId","searchId","scene","parentSearchId","reqBusinessType","businessType","subType","stepInfo","taskInfo","actionType","actionValue","originalSearchId"][Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var l=c.value;if(t[l]!==e[l])return}}catch(t){i=!0,a=t}finally{try{!o&&null!=s.return&&s.return()}finally{if(i)throw a}}var f=(null===(u=t.agentInfo)||void 0===u?void 0:u.split("$"))||[],d=f[f.length-1],p=t.agentInfo;return d!==e.agentInfo&&(p="".concat(t.agentInfo).concat(e.agentInfo?"$".concat(e.agentInfo):"")),n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){var r,o,i;r=t,o=e,i=n[e],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})}return t}({},t),r=(r={agentInfo:p,docInfo:"".concat(t.docInfo).concat(d===e.agentInfo?"&":"$").concat(e.docInfo)},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n})(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}),n},preHandleFn:function(t){return t.sort(function(t,e){var n,r;return(null!==(n=t.agentInfo)&&void 0!==n?n:"").localeCompare(null!==(r=e.agentInfo)&&void 0!==r?r:"")})}})}}]);