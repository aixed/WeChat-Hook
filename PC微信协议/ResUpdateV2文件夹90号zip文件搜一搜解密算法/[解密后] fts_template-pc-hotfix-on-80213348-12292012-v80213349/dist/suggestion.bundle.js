"use strict";(self.webpackChunkweixin_search=self.webpackChunkweixin_search||[]).push([["suggestion"],{387647:function(e,t,r){var n=r(93167),s=r(65764),i=r(551900),o=r(271431),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.Z=a.exports},399689:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="2011c14a"}},71968:function(e,t,r){var n=r(207183),s=r(477426),i=r(551900),o=r(730823),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.Z=a.exports},677670:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="92cc415a"}},737753:function(e,t,r){var n=r(68218),s=r(900726),i=r(551900),o=r(301658),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.Z=a.exports},991516:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="2f02e546"}},517157:function(e,t,r){var n=r(355201),s=r(795923),i=r(551900),o=r(687449),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.Z=a.exports},318276:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="df2c9584"}},207929:function(e,t,r){var n=r(594337),s=r(75736),i=r(551900),o=r(584630),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.Z=a.exports},265585:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="7784b5b1"}},456378:function(e,t,r){r.r(t);var n=r(930307),s=r(387165),i=r(551900),o=r(674837),a=(0,i.Z)(s.Z,n.s,n.x,!1,null,null,null);"function"==typeof o.Z&&(0,o.Z)(a),t.default=a.exports},408088:function(e,t,r){r.d(t,{Z:function(){return n}});function n(e){e.options.__wxs_id="bca8e319"}},271431:function(e,t,r){var n=r(399689);t.Z=n.Z},730823:function(e,t,r){var n=r(677670);t.Z=n.Z},301658:function(e,t,r){var n=r(991516);t.Z=n.Z},687449:function(e,t,r){var n=r(318276);t.Z=n.Z},584630:function(e,t,r){var n=r(265585);t.Z=n.Z},674837:function(e,t,r){var n=r(408088);t.Z=n.Z},65764:function(e,t,r){var n=r(629585);t.Z=n.Z},477426:function(e,t,r){var n=r(657132);t.Z=n.Z},900726:function(e,t,r){var n=r(294241);t.Z=n.Z},795923:function(e,t,r){var n=r(929704);t.Z=n.Z},75736:function(e,t,r){var n=r(779410);t.Z=n.Z},387165:function(e,t,r){var n=r(774733);t.Z=n.Z},93167:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sug-bottom",attrs:{"data-fcn-bottom":"","data-fr-105590428":""}},e._l(e.data.items,function(t,n){return r(e.types[t.type],e._b({key:n,tag:"components",attrs:{item:t,"data-fc-1b470fdee":""}},"components",e.$props,!1))}),1)},s=[]},207183:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sug-complaint",class:{fixed:this.fixed},attrs:{"data-fcn-complaint":"","data-fr-16aaf729a":""}},[t("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link","data-cli":""},on:{click:this.tap}},[this._v("\n      "+this._s(this.item.word)+"\n    ")])])},s=[]},68218:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this.$createElement,t=this._self._c||e;return 3==this.type?t("div",{staticClass:"weui-cell sug_biz",class:{active:this.isActive},attrs:{"data-sug-id":this.reportId,"data-new-teach-report-id":""+this.M_getItemReportId(this.item,this.blockIndex,null,this.exposeExtraInfo),role:"button","data-fcn-contact":"","data-fr-1a3aefcec":""},on:{click:this.onTapContact}},[t("div",{staticClass:"weui-cell_hd"},[t("client-image",{key:this.item.userName,staticClass:"sug__moment-thumb",attrs:{item:this.item,type:8,"data-fc-116e7afe7":""}})],1),t("div",{staticClass:"weui-cell__bd biz_item"},[t("h4",{domProps:{innerHTML:this._s(this.xss(this.item.nickNameHighlight||this.item.nickName))}}),this.item.extraHighlight?t("p",{staticClass:"biz_account_tips",domProps:{innerHTML:this._s(this.xss(this.item.extraHighlight))}}):this._e()])]):t("div",{staticClass:"weui-cell sug_biz",class:{active:this.isActive},attrs:{"data-new-teach-report-id":""+this.M_getItemReportId(this.item,this.blockIndex,null,this.exposeExtraInfo),docid:this.item.docID,"data-sug-id":this.reportId,role:"button","data-fcn-contact":"","data-fr-1a3aefcec":""},on:{click:this.onTap}},[t("div",{staticClass:"weui-cell_hd"},[t("div",{directives:[{name:"image",rawName:"v-image",value:this.item.iconUrl,expression:"item.iconUrl"}],staticClass:"sug__biz-thumb"})]),t("div",{staticClass:"weui-cell__bd biz_item"},[t("h4",{domProps:{innerHTML:this._s(this.xss(this.item.nickNameHighlight||this.item.nickName))}}),this.item.extraHighlight?t("p",{staticClass:"biz_account_tips",domProps:{innerHTML:this._s(this.xss(this.item.extraHighlight))}}):this._e()])])},s=[]},355201:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this.$createElement,t=this._self._c||e;return 1===this.item.showType?t("div",{attrs:{"data-fcn-general-sug":"","data-fr-105ed678a":""}}):t("simple",this._b({ref:"GeneralSug",attrs:{"data-new-teach-report-id":""+this.M_getItemReportId(this.item,this.blockIndex,null,this.exposeExtraInfo),"data-fc-19080ec32":"","data-fcn-general-sug":"","data-fr-105ed678a":""},on:{tapitem:this.onTapItem,tapaddto:this.onTapAddTo}},"simple",this.$props,!1))},s=[]},594337:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"active",rawName:"v-active.instant",modifiers:{instant:!0}}],staticClass:"sug__simple active__item",attrs:{"data-sug-id":e.reportId,"data-cli":"","data-fcn-simple":"","data-fr-1155f8a10":""},on:{click:e.onTapSuggestionSearch}},[r("div",{staticClass:"line"},["weui"===e.magnifierType?r("i",{staticClass:"weui-icon-search sug__simple-icon line__item no-shrink"}):r("svg-icon",{attrs:{"aria-hidden":"true","class-name":"sug__simple-icon line__item no-shrink",name:"magnifier","data-fc-19691b78e":""}}),r("div",{staticClass:"line line__item primary",attrs:{role:"button"}},[r("p",{staticClass:"line__item",domProps:{innerHTML:e._s(e.xss(e.word))}}),e.weakTag?r("ui-tag",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"4px"},attrs:{title:e.weakTag.title,type:e.weakTag.type,"icon-url":e.weakTag.iconUrl,"no-bg":e.weakTag.noBg,"data-fc-19691b78c":""}}):e._e()],1),e.os.mobile?r("div",{staticClass:"line__item no-shrink",staticStyle:{"margin-left":"12px"},attrs:{role:"button","aria-label":"添加到搜索栏"}},[r("div",{directives:[{name:"active",rawName:"v-active.stop",modifiers:{stop:!0}}],staticClass:"sug__simple-active active__opacity",attrs:{"data-cli":""},on:{click:function(t){return t.stopPropagation(),e.onTapSuggestionAddto(t)}}},[r("svg-icon",{staticClass:"sug__simple-end",attrs:{name:"arrow.up.left","data-fc-19691b78a":""}})],1)]):e._e()],1),e.strongTag?r("div",{staticClass:"line",staticStyle:{"margin-top":"8px"},attrs:{"aria-hidden":"true"}},[r("div",{staticClass:"line__item no-shrink sug__simple-occupy"}),r("ui-tag",{staticClass:"line__item",attrs:{title:e.strongTag.title,type:e.strongTag.type,"icon-url":e.strongTag.iconUrl,size:"big","no-bg":e.strongTag.noBg,"data-fc-19691b788":""}})],1):e._e()])},s=[]},930307:function(e,t,r){r.d(t,{s:function(){return n},x:function(){return s}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"overlay-scroll",rawName:"v-overlay-scroll",value:e.needOverlayScroll,expression:"needOverlayScroll"}],staticClass:"suggestion-list",attrs:{"data-fcn-suggestion":"","data-fr-17d8efd54":""},on:{touchmove:e.handleTouchmove}},[r("exposure-block",{ref:"exposureBlock",attrs:{attr:"data-new-teach-report-id","data-fc-165d7a99b":""},on:{expose:e.M_exposeReportFor26897}},e._l(e.suggestoinObj,function(t,n){return r("div",{key:n,staticClass:"weui-cells suggestion-section",style:{marginTop:e.os.mobile&&n>0?"5px":0}},[t.title?r("div",{staticClass:"weui-cells_title"},[e._v("\n          "+e._s(t.title)+"\n        ")]):e._e(),e._l(t.items,function(s,i){return[1==t.type||4==t.type?r("general",{key:i+""+n,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(n,i)},attrs:{index:e.getListIndex(n,i),data:t,item:s,type:t.type,pos:i+1,"type-pos":n+1,"block-index":i+1,ts:e.dataReadyTs,"expose-extra-info":e.exposeExtraInfo,"data-fc-165d7a99c":""},nativeOn:{mouseover:function(t){return e.$emit("hover",i)}}}):e._e(),2==t.type||3==t.type?r("contactSug",{key:i+""+n,ref:"SugItem",refInFor:!0,class:{active:e.selectIndex===e.getListIndex(n,i)},attrs:{index:e.getListIndex(n,i),data:t,item:s,type:t.type,pos:i+1,"block-index":i+1,"type-pos":n+1,"expose-extra-info":e.exposeExtraInfo,"data-fc-165d7a99d":""},nativeOn:{mouseover:function(t){return e.$emit("hover",i)}}}):e._e()]})],2)}),0),e.os.mobile&&e.bottom?r("bottom",{attrs:{data:e.bottom,"data-fc-165d7a99e":""}}):e._e()],1)},s=[]},629585:function(e,t,r){var n=r(71968),s=new(r(116746)).J({complaint:1});t.Z={components:{complaint:n.Z},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:s}}}},657132:function(e,t,r){var n=r(798509),s=r(984928);t.Z={mixins:[n.jB],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{fixed:!1}},computed:{isAiSearchStyle:function(){return n.xB.isAiSummary||n.xB.scene===s.RL.MP_TOP_RIGHT_SEARCH_ENTER||n.xB.scene===s.RL.EXTLINK_TOP_RIGHT_SEARCH_ENTER}},watch:{item:function(){var e=this;this.$nextTick(function(){e._calculateHeight()})}},mounted:function(){var e=this;this.$nextTick(function(){e._calculateHeight()})},methods:{_calculateHeight:function(){this.$parent.$parent.$el.clientHeight+this.$el.clientHeight<n.Zr.getWindowHeight()?this.fixed=!0:this.fixed=!1},tap:function(){var e,t,r,s,i,o={searchId:this.$store.state.sug.sugId,query:n.xB.query,scene:n.xB.scene,sessionId:n.xB.sessionId,wechatVersion:n.xB.wechatVersion,version:n.xB.version,isHomePage:n.xB.isHomePage,latitude:(null===(e=n.xB.currentLocation)||void 0===e?void 0:e.latitude)||"",longitude:(null===(t=n.xB.currentLocation)||void 0===t?void 0:t.longitude)||""},a="".concat(null===(r=this.item)||void 0===r?void 0:r.jumpUrl,"&feedback=").concat(encodeURIComponent(JSON.stringify(o)));this.M_go((s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,s,i;n=e,s=t,i=r[t],s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i})}return e}({},this.item),i=(i={jumpUrl:a},i),Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(i)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(i,e))}),s))}}}},294241:function(e,t,r){var n=r(798509),s=r(275994),i=r(959018),o=r(185048),a=r(984928),c=r(136525),u=r(619269),p=r(378350);r(827798);var l=r(420629);function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,s,i;n=e,s=t,i=r[t],s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i})}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}t.Z={components:{clientImage:p.Z},mixins:[n.jB,n.uW,u.Z],props:["data","item","type","tapCb","pos","typePos","index","blockIndex","exposeExtraInfo"],data:function(){return{isActive:!1,isVerify:!1,isTradmarkProtection:!1}},computed:f(d({},(0,l.Se)({resultExperiment:"result/self/getExperiment"}),(0,l.rn)({experiment:function(e){return e.teach.experiment}})),{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.nickName,"|").concat(this.item.reportFlag||0)},isExptBoxUpdate:function(){return!0}}),methods:{onTap:function(){var e,t=this,r=t.item.nickName,u={scene:n.xB.scene,businessType:n.xB.type,docId:r,docPos:t.pos,typePos:t.typePos,clickType:1,suggestionId:t.$store.state.sug.sugId,searchId:t.$store.state.sug.sugId};(0,o.lO)(u);var p={};if(n.xB.type==c.jJ.OFFICE_ACCOUNT||3==this.item.opType?p.actionId=a.At.BIZ:(null===(e=this.item.jumpInfo)||void 0===e?void 0:e.jumpType)===2&&(p.actionId=a.At.WE_APP),this.M_clickReportFor26897(t.item,t.blockIndex,f(d({},p),{searchId:t.$store.state.sug.sugId})),t.item.jumpInfo)t.M_go(t.item.jumpInfo);else if(n.xB.type==c.jJ.OFFICE_ACCOUNT||3==this.item.opType)t.M_jump(Object.assign(this.item,{type:1,bizuin:this.item.bizuin||this.item.docID,opType:this.item.opType||a.xQ.bizSession,query:n.xB.query,searchId:t.$store.state.sug.sugId,extraParams:"from_sug=1&search_type=1&docid=".concat(decodeURIComponent(this.item.docID),"&scene=").concat(n.xB.scene),reportDocId:r}));else{t.$store.commit({type:"result/updateMoment",tagInfo:{tagType:a.xo.BIZFEEDS,tagText:""},matchUser:{matchWord:r,userName:t.item.docID},nextObjID:"",tagList:[{tagName:r,tagType:a.xo.BIZFEEDS}]});var l=t.M_composeParentSid({t:a.X$.SUG,s:t.$store.state.sug.sugId,did:r});t.M_checkSpecialSearchBeforeLaunchNewSearch({query:r,callback:function(){n.xB.setValue({custom:""}),n.Zr.setSearchInputWord({query:r,custom:"",tagList:[{tagName:r,tagType:a.xo.BIZFEEDS,userName:t.item.userName}],isInputChange:!1}),n.Gc.$emit(n.U3.GOTO,{page:a.kO.RESULT,query:r,extReqParams:{key:"parentSearchID",textValue:l},action:a.Ss.SUG_BIZ_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:l}]}},u)}(0,i.m6)(s.Z.detail.suggestion.suggestionItemBiz),n.yG.suggestion.reportCommonClick(this.reportId),t.item.needEnterHistory&&n.su.storeHistory({type:n.xB.type,query:r,scene:n.xB.scene,docPullType:1})},onTapContact:function(){n.Gc.$emit(n.U3.RESET_MOMENT_FILTER);var e=this,t=e.item.nickName;e.$store.commit({type:"result/updateMoment",nextObjID:"",tagInfo:{tagType:a.xo.SNSALBUM,tagText:""},matchUser:{matchWord:t,userName:e.item.userName},tagList:[{tagName:t,tagType:a.xo.SNSALBUM}]});var r=e.M_composeParentSid({t:a.X$.SUG,s:e.$store.state.sug.sugId,did:t}),c={scene:n.xB.scene,businessType:n.xB.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:e.$store.state.sug.sugId};(0,o.lO)(c),this.M_clickReportFor26897(e.item,e.blockIndex,{actionId:a.At.ALL_SEARCH,searchId:e.$store.state.sug.sugId}),e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){n.Zr.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:a.xo.SNSALBUM,userName:e.item.userName}],isInputChange:!1}),n.xB.custom="",n.Gc.$emit(n.U3.GOTO,{page:a.kO.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:r},action:a.Ss.SUG_CONTACT_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:r}]}},c),(0,i.m6)(s.Z.detail.suggestion.suggestionItemContact),n.yG.suggestion.reportCommonClick(this.reportId)},tap:function(){3===this.type?this.onTapContact():this.onTap()}}}},929704:function(e,t,r){var n=r(207929),s=r(619269),i=r(984928);function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,s,i;n=e,s=t,i=r[t],s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i})}return e}function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}t.Z={components:{simple:n.Z},mixins:[s.Z],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0},index:{type:Number,default:0},blockIndex:{type:Number,default:0},pageName:{type:String,default:i.kO.SUG},exposeExtraInfo:{type:Object,default:function(){return{}}}},methods:{tap:function(){1===this.item.showType?this.$refs.GeneralSug.tap():this.$refs.GeneralSug.onTapSuggestionSearch()},onTapItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(this.item,this.blockIndex,o({},e,this.exposeExtraInfo))},onTapAddTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.M_clickReportFor26897(a(o({},this.item),{docType:"upbutton"}),this.blockIndex,a(o({},e,this.exposeExtraInfo),{actionId:3216}))}}}},779410:function(e,t,r){var n=r(420629),s=r(798509),i=r(959018),o=r(185048),a=r(984928),c=r(462474),u=r(111267);function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,s,i;n=e,s=t,i=r[t],s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i})}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}t.Z={mixins:[s.uW,s.jB,u.Z],props:{data:{type:Object},item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},data:function(){return{}},computed:l(p({},(0,n.rn)({uploadFileList:function(e){return e.chatbot.uploadFileList}})),{reportId:function(){return"".concat(this.typePos,"|").concat(this.data.title||"","|").concat(this.type,"|").concat(this.pos,"|").concat(this.item.word,"|").concat(this.item.reportFlag||0)},word:function(){return this.item.wordHighlight||this.item.word},weakTag:function(){if(this.item.tagInfo&&2===this.item.tagInfo.showType){var e=this.item.tagInfo;return"AI"===e.title&&3===e.type?l(p({},e),{type:31}):e}return null},strongTag:function(){return this.item.tagInfo&&1===this.item.tagInfo.showType?this.item.tagInfo:null},magnifierType:function(){return s.xB.isInsideMpProfile?"weui":"svg"}}),methods:{onTapSuggestionSearch:function(){if(!s.xB.quarkStyleV2||!!this.M_checkCanSearch(this.uploadFileList)){var e,t,r=this;this.$emit("tapitem");var n=this.M_composeParentSid({t:a.X$.SUG,s:this.$store.state.sug.sugId,did:this.item.word,kv:{uiStyle:2,isDeepThink:(null===(e=s.xB.additionalCheckboxesExtReqParams.find(function(e){return"globalSearchDeepThink"===e}))||void 0===e?void 0:e.uintValue)||0,inputPos:2}}),u={scene:s.xB.scene,businessType:s.xB.type,docId:r.item.word,docPos:r.pos,typePos:r.typePos,query:r.item.word,suggestionId:r.$store.state.sug.sugId,resultType:r.item.showType||0,expand:"suggestion",expand1:new Date-r.ts,searchId:"",requestId:null===(t=r.$store.state.sug.sugData)||void 0===t?void 0:t.requestId};(0,o.lO)(u),r.$store.commit({type:"result/updateSearchInputValue",value:r.item.word}),r.M_checkSpecialSearchBeforeLaunchNewSearch({query:r.item.word,callback:function(){s.Zr.setSearchInputWord({query:r.item.word,isInputChange:!1}),r.item.preRenderData&&s.xB.setValue({preRenderData:r.item.preRenderData});var e=[{key:"parentSearchID",textValue:n}];r.item.mixerCommonContext&&e.push({key:"mixerCommonContext",textValue:r.item.mixerCommonContext}),c.Z.$emit(c.U.GOTO,{page:a.kO.RESULT,query:r.item.word,action:a.Ss.SUG_CLICK,extReqParams:e,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:n}]}},u),s.yG.suggestion.reportCommonClick(this.reportId),(0,i.B4)(s.AX.feature.sug),s.yG.reportEventTrack({actionType:18,query:r.item.word}),this.$store.commit({type:"result/updateSearchInputValue",value:r.item.word}),this.$store.commit({type:"result/updateSearchKeyboardShow",value:!1})}},onTapSuggestionAddto:function(){s.Zr.setSearchInputWord({query:this.item.word,isInputChange:!0}),s.yG.suggestion.reportCommonClick(this.reportId),(0,o.lO)({scene:s.xB.scene,businessType:s.xB.type,docId:this.item.word,docPos:this.pos,typePos:this.typePos,expand:"suggestionAttach",suggestionId:this.$store.state.sug.sugId,resultType:this.item.showType||0,searchId:""}),(0,i.B4)(s.AX.feature.sugAdd),this.$emit("tapaddto"),this.$store.commit({type:"result/updateSearchKeyboardShow",value:!1})}}}},774733:function(e,t,r){var n=r(720144),s=r(517157),i=r(737753),o=r(387647),a=r(798509),c=r(783466),u=r(448188),p=r(707239),l=r(984928),d=r(327075),f=r(838605),m=r(619269),h=r(349854),y=r(338200),g=r(134293),x=r(234031),b=r(244732);function v(e,t,r,n,s,i,o){try{var a=e[i](o),c=a.value}catch(e){r(e);return}a.done?t(c):Promise.resolve(c).then(n,s)}b.Z.install(n.default),b.Z.installPlugin(n.default),n.default.mixin(a.uW),t.Z={components:{general:s.Z,contactSug:i.Z,bottom:o.Z,exposureBlock:h.Z},mixins:[a.jB,m.Z,y.Z,x.Z],props:{selectIndex:{type:Number,default:-1}},data:function(){return{sugRequestId:"",isShow:!1,dataReadyTs:0,deviceType:a.xB.deviceType,isKeybordShow:!0,pageName:l.kO.SUG,requestMap:{}}},computed:{suggestoinObj:function(){return this.$store.state.sug.data},exposeExtraInfo:function(){var e=this.$store.state.sug;return{query:e.query,requestId:e.requestId,searchId:e.sugId}},bottom:function(){var e=this,t=this,r=t.$store.state.sug.bottom;return r&&r.items&&r.items.length&&r.items.forEach(function(r){if(1==r.type&&r.jumpUrl&&!r.jumpUrl.includes("relatedWords")){var n=[];e.suggestoinObj.map(function(e){e.items&&e.items.length&&(n=n.concat(e.items.map(function(e){return e.word})))}),r.jumpUrl=t.M_composeUrl(r.jumpUrl,{relatedWords:n.join("|")})}}),r},needOverlayScroll:function(){return a.xB.isInsideMpProfile}},watch:{$route:function(e){e.name===l.kO.SUG?this.$store.dispatch({type:"sug/handleSug",data:{}}):(e.name===l.kO.INDEX||e.name===l.kO.TEACH)&&this.$store.commit({type:"sug/updateState",sugSession:null})}},created:function(){var e;return(e=function(){var e,t,r,n,s,i,o;return function(e,t){var r,n,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(s=2&i[0]?n.return:i[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,i[1])).done)return s;switch(n=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,function(r){switch(r.label){case 0:e=this,t=this,t.query="",t.lastQuery="",t.inputFinishTimestamp=+new Date,t.preGetSearchDataTimeout=null,t.preGetSearchDataArgs="",t.preGetSearchDataResolve=null,t.$store.getters.getExtReqParams,a.xB.parentType==l.X$.LOCALRELEVANT_MORE&&a.xB.setValue({parentType:l.X$.MARK_LOCALRELEVANT_MORE}),(s=void 0===(n=t.$route.params.option)?{}:n).query&&a.xB.curRouteName!==l.kO.CHATBOT&&s.cache&&"{}"!==s.cache&&(t.handleSugData({json:s.cache}),t.lastQuery=t.query,t.query=s.query),c.N.onInputChange(function(r){e.isKeybordShow=!0,t.inputFinishTimestamp=+new Date,r.query&&(t.getData(r),d.Z.isSupportSugPreSearchOnInputChange&&t._preGetSearchData()),t.$store.commit("result/updateCacheArgs",null),t.$store.commit("result/updateCachePromise",null)}),c.N.onInputConfirm(function(r){clearTimeout(t.preGetSearchDataTimeout),a.yG.reportEventTrack({actionType:17,timeStamp:t.inputFinishTimestamp,query:r.query||a.xB.query}),e.$store.commit({type:"sug/updateState",sugSession:{type:2,sessionId:"sug_sid_".concat(Date.now())}})});return a.Gc.$on(a.U3.VERT_CHANGE,t.clearData),a.Gc.$on(a.U3.TAB_SWITCH,t.clearData),c.N.onSugReady(function(r){var n,s,i=function(){try{return JSON.parse(r.json)}catch(e){return{}}}(),o=i.requestID||i.requestId;if(o&&e.requestMap[o]&&(r.query=null!==(s=null!==(n=r.query)&&void 0!==n?n:e.requestMap[o].query)&&void 0!==s?s:""),o&&t.sugRequestId&&o!==t.sugRequestId){var u="receive rid[".concat(o,"] !== send rid[").concat(t.sugRequestId,"]");console.error("onSugReady",u),c.h.log({key:"onSugReady",msg:u});return}!i.suggestionID&&(i.suggestionID=i.suggestionID||a.Zr.getRandom(19),i.requestId=o||t.sugRequestId,r.json=JSON.stringify(i)),t.handleSugData(r)}),c.N.onResultReady(function(e){console.log("[preSearch] receive suggestion pre getSearchData",e.requestId,t.preGetSearchDataArgs.requestId),e.requestId&&e.requestId===t.preGetSearchDataArgs.requestId&&(t.$store.commit("result/cacheResultData",e),t.preGetSearchDataResolve(e))}),c.N.onCommonCgiReady(function(e){}),[4,(0,g.u)()];case 1:return(null==(i=r.sent())?void 0:i.json)&&(o=JSON.parse(i.json),a.xB.setValue({currentLocation:o})),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function o(e){v(i,n,s,o,a,"next",e)}function a(e){v(i,n,s,o,a,"throw",e)}o(void 0)})}).apply(this)},mounted:function(){var e=this,t=this;t.expose=null,this.$nextTick().then(function(){!e.expose&&(t.expose=new f.Expose(function(e){e.length&&a.yG.suggestion.reportCommonExpose(e)},{container:t.$el,attr:"data-sug-id"}))})},activated:function(){!this.$store.state.sug.sugSession&&this.$store.commit({type:"sug/updateState",sugSession:{type:1,sessionId:"sug_sid_".concat(Date.now())}})},methods:{handleTouchmove:function(){[l.RL.S1S,l.RL.GLOBAL_HISTORY,l.RL.GLOBAL,l.RL.KEYBORD_PRELOAD].includes(a.xB.scene);this.Container_CheckIsQuarkStyleV2()&&a.Gc.$emit(a.U3.H5_SEARCH_BAR_BLUR_INPUT)},reportSugSession:function(){var e=(this.$store.state.sug.sugSession||{}).sessionId,t=this.$store.state.sug.sugId,r=this.deviceType;t&&c.h.getCommonCgiData({cgiName:u.yh.mmDataReport,data:{clientversion:a.xB.wechatVersion,device:r,item_list:[{logid:24687,log_buffer:["",t,a.xB.scene,a.xB.isHomePage,a.xB.type,e].join(",")}]}})},getData:function(e){if(!(e.query===this.query&&a.xB.parentType==l.X$.MARK_LOCALRELEVANT_MORE||[l.RL.BIZ_SPECIFIC,l.RL.MP_INNER_TOP_RIGHT_SEARCH,l.RL.MP_TOP_RIGHT_SEARCH_ENTER,l.RL.EXTLINK_TOP_RIGHT_SEARCH_ENTER].includes(a.xB.scene)&&a.xB.isMpVertical)){var t=Object.assign({query:a.xB.query},e);(a.xB.scene===l.RL.EMOTICON_MALL||a.xB.scene===l.RL.CHATROOM_EMOTICON)&&384===a.xB.type&&(t.type=385),this.getSearchSuggestionData(t),this.lastQuery=this.query,this.query=t.query}},clearData:function(){this.$store.commit("sug/updateState",{data:[]})},_preGetSearchData:function(){var e=this;e.lastQuery!==e.query&&!/\w/.test(e.query)&&e.query.length>1&&a.xB.preSearchSwitch&&(clearTimeout(e.preGetSearchDataTimeout),e.preGetSearchDataTimeout=setTimeout(function(){e.preGetSearchData(e.query)},100))},addExtReqParamsForW1W:function(e){if(16777248===a.xB.type)try{var t,r,n,s=null===(n=this.$store.state.result.sift.slideFilter)||void 0===n?void 0:null===(r=n.filters)||void 0===r?void 0:null===(t=r.find(function(e){return e.display}))||void 0===t?void 0:t.options,i=null==s?void 0:s.find(function(e){return 1===e.selected});i&&i.paramKey&&i.paramValue&&e.push({key:i.paramKey,textValue:JSON.stringify([i.paramValue])})}catch(e){console.error("addExtReqParamsForW1W err: ",e)}},getSearchSuggestionData:function(e){var t=a.Zr.generateGuuId();this.sugRequestId=t;var r=[{key:"requestId",textValue:t}];if(a.xB.parentType==l.X$.MARK_LOCALRELEVANT_MORE&&r.push({key:"sugActionType",uintValue:1}),a.xB.isPresentSearch||a.xB.isOrderSearch){var n=a.xB.getEcExtInfo();if(n){var s=n.scene,i=n.scene_note,o=n.module_source;r=r.concat([{key:"scene_mp",uintValue:s},{key:"scene_note_mp",textValue:i},{key:"module_source",textValue:o},{key:"req_num",uintValue:10}])}}this.addExtReqParamsForW1W(r),a.yG.reportEventTrack({actionType:303,requestId:t,query:e.query||""});var u={requestId:t,scene:a.xB.scene,version:a.xB.version,query:e.query||"",type:e.type||a.xB.type,isHomePage:a.xB.isHomePage,requestType:e.requestType||8===a.xB.type&&p.Z.requestType.local,sugId:"",sessionId:a.xB.sessionId,extReqParams:r};c.h.getSug(u),this.requestMap[t]=u},preGetSearchData:function(e){var t=this,r=t.$store.state.result;if(!r.self.base.isLoading){var n,s,i=a.Zr.generateGuuId(),o=[{key:"netType",textValue:a.xB.netType},{key:"subType",uintValue:+a.xB.subType,textValue:a.xB.subType?"".concat(a.xB.subType):""},{key:"currentPage",uintValue:1},{key:"requestId",textValue:i},{key:"cookies",textValue:r.state.cookies},{key:"widgetVersion",uintValue:1023022}].concat(a.xB.crossExtReqParams);var u=Object.assign((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n,s,i;n=e,s=t,i=r[t],s in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i})}return e}({},a.xB.getBase()),s=(s={query:e||"",offset:0,tagInfo:t.$store.getters["result/tagInfo"],type:a.xB.type,isHomePage:a.xB.isHomePage,subType:a.xB.subType,sceneActionType:l.E9.PRE_SEARCH,matchUser:t.$store.getters["result/matchUser"],numConditions:r.moment.numConditions,extReqParams:o,requestId:i,fromTagSearch:a.xB.queryString.fromTagSearch,extClientParams:a.xB.queryString.extClientParams,isBackButtonClick:!0},s),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(s)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(s,e))}),n),{parentSearchID:"",sugId:""});c.h.getResult(u),t.preGetSearchDataArgs=u,t.$store.commit("result/cacheResultData",{}),t.$store.commit("result/updateCacheArgs",t.preGetSearchDataArgs),t.$store.commit("result/updateCachePromise",new Promise(function(e){t.preGetSearchDataResolve=e})),a.yG.reportEventTrack(Object.assign({actionType:3,requestId:i,isPreload:100},u))}},getListIndex:function(e,t){return e?t+this.suggestoinObj.slice(0,e).reduce(function(e,t){var r=t.items;return e+(void 0===r?[]:r).length},0):t},tapIndex:function(e){this.$refs.SugItem.find(function(t){return t.index===e}).tap()},handleSugData:function(e){var t=this;if(!a.xB.isInsideMpProfile||!!(document.hasFocus()&&window.innerWidth>0)){this.$refs.exposureBlock&&this.$refs.exposureBlock.resetExposeId(),this.$store.dispatch({type:"sug/handleSug",data:e});var r=this.$store.state.sug,n=r.sugId,s=r.requestId;a.yG.reportEventTrack({actionType:308,searchId:n,requestId:s,query:e.query||a.xB.query}),this.reportSugSession(),!d.Z.isSupportSugPreSearchOnInputChange&&this._preGetSearchData(),this.dataReadyTs=+new Date,setTimeout(function(){a.yG.reportEventTrack({actionType:309,searchId:n,requestId:s,query:e.query||a.xB.query}),t.expose&&(t.expose.resetExposeId(),t.expose.analysis()),a.Gc.$emit(a.U3.sugRenderDone)})}}}}},707239:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(116746),s=new n.J({WORD:1,BIZ:2,CONTACT:3,HISTORY:4}),i={requestType:new n.J({net:0,local:1}),sugType:s};Object.freeze(i)},338200:function(e,t,r){var n=r(231097),s=r(462474),i=r(624312),o=r(185048),a=r(984928);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var i=[],o=!0,a=!1;try{for(s=s.call(e);!(o=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{!o&&null!=s.return&&s.return()}finally{if(a)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l={};t.Z={data:function(){return{isOpenExposeRecord:n.Z.isFinderSearch||[a.RL.MP_TOP_RIGHT_SEARCH_ENTER].includes(n.Z.scene),isOpenScrollRecord:!1,exposeInfo:null,scrollReportMap:{}}},watch:{$route:function(e,t){e.name!=a.kO.TEACH&&this._endRecordExpose()}},created:function(){this.isOpenExposeRecord&&s.Z.$on(s.U.TEACH_NEW_EXPOSE,this._onExpose),window.addEventListener("scroll",this._scroll,!1)},beforeDestroy:function(){this.isOpenExposeRecord&&s.Z.$off(s.U.TEACH_NEW_EXPOSE,this._onExpose),this._endRecordExpose(),window.removeEventListener("scroll",this._scroll,!1)},methods:{getPageType:function(){var e,t=this.$router.currentRoute.name;return(u(e={},a.kO.SUG,a.Hq.SUG),u(e,a.kO.TEACH,a.Hq.TEACH),e)[t]},getSearchId:function(){var e;return this.$router.currentRoute.name==a.kO.SUG?this.$store.state.sug.sugId:null===(e=this.$store.state.teach.teachData)||void 0===e?void 0:e.searchID},_onExpose:function(e){var t=this,r=e.reportMap,n=void 0===r?{}:r,s=e.isCache,o=this.getSearchId(),c=this.$router.currentRoute.name;!s&&Object.keys(n).forEach(function(e){var r=p(e.split("@"),2),u=r[0];r[1];var d=p(u.split("|"),3),f=(d[0],d[1]);d[2],((void 0===f?"":f)==i.Z.teachType.RECOMMEND_BOX||c==a.kO.SUG)&&!l[o]&&(l[o]=!0,t.exposeInfo={itemInfo:u,docInfo:Array.from(new Set(n[e])).join("#"),pageType:t.getPageType(),isCache:s,startExposeTs:Date.now()},t.isOpenScrollRecord=!0,t._startRecordExpose())})},_startRecordExpose:function(){var e=this;this._endRecordExpose(),this.heartbeatTimer=setInterval(function(){var t,r,n=e.$router.currentRoute.name;if(e.$store.state.isWebviewActivated&&(n==a.kO.TEACH||n==a.kO.SUG)&&e.exposeInfo){;o.ZP.teach.commonTeachReport((t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){u(e,t,r[t])})}return e}({},e.exposeInfo),r=(r={actionId:a.At.EXPOSE_HEARTBEAT_REPORT,extInfo:encodeURIComponent(JSON.stringify({expstaytime:Date.now()-e.exposeInfo.startExposeTs}))},r),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))}else e._endRecordExpose()},500)},_endRecordExpose:function(){clearInterval(this.heartbeatTimer)},_scroll:function(){this.isOpenScrollRecord&&this.$store.state.isWebviewActivated&&this.$router.currentRoute.name==a.kO.TEACH&&this.exposeInfo&&o.ZP.teach.commonTeachReport({actionId:a.At.RESULT_PAGE_SCROLL,itemInfo:"",docInfo:"",pageType:a.Hq.TEACH}),this.isOpenScrollRecord=!1}}}}}]);